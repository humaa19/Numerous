<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/UnitRecordsModel.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: models/UnitRecordsModel.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @class Used for modelling the data of student progress.
 */
var UnitRecordsModel = new Class ( /** @lends UnitRecordsModel.prototype */ {

	/**
	 * Key for the key-value pair when accessing the storage for stars
	 */
	keyName: null,

	/**
	 * Stores default stars data structure if not set already
	 */
	defaultStars: [],
	
	/**
	 * Stores stars data loaded from the database
	 */
	starsEarned: [],
	
	/**
	 * Key for the key-value pair when accessing the storage for times
	 */
	keyNameForTimes: null,
	
	/**
	 * Stores default times data structure if not set already
	 */
	defaultTimes: [],
	
	/**
	 * Stores time data loaded from the database
	 */
	timesTaken: [],
	
	/**
	 * Key for the key-value pair when accessing the storage for attempts
	 */
	keyNameForAttempts: null,
	
	/**
	 * Stores default attempts data structure if not set already
	 */
	defaultAttempts: [],
	
	/**
	 * Stores attempts data loaded from the database
	 */
	attemptsMade: [],
	
	/**
	 * Key for the key-value pair when accessing the storage for errors
	 */
	keyNameForErrors: null,
	
	/**
	 * Stores default errors data structure if not set already
	 */
	defaultErrors: [],
	
	/**
	 * Stores errors data loaded from the database
	 */
	errorsMade: [],
	
	/**
	 * Constructor
	 * @param {integer} unitNumber the data will be retrieved for this unit number.
	 */
	initialize: function (unitNumber) {
		this.unitNumber = unitNumber;
		this.keyName = "unit" + this.unitNumber + "Stars";
		this.keyNameForTimes = "unit" + this.unitNumber + "Time"; 
		this.keyNameForAttempts = "unit" + this.unitNumber + "Attempts";
		this.keyNameForErrors = "unit" + this.unitNumber + "Errors";
	
		for(var i = 0; i &lt; app.UNIT_GAMES[this.unitNumber].length; i++) {
			this.defaultStars[i] = 0;
			this.defaultTimes[i] = 0;
			this.defaultAttempts[i] = 0;
			this.defaultErrors[i] = null;
		}
		
		// Get the stars, times, attempts and errors from the database
		this.starsEarned = storage.get(this.keyName, this.defaultStars);
		this.timesTaken = storage.get(this.keyNameForTimes, this.defaultTimes);
		this.attemptsMade = storage.get(this.keyNameForAttempts, this.defaultAttempts);
		this.errorsMade = storage.get(this.keyNameForErrors, this.defaultErrors);
	},
	
	/**
	 * Getter for stars
	 * @param gameNumber the stars to retrieve for this game
	 * @returns {integer} the number of stars for the particular game
	 */
	getStars: function(gameNumber) {
		this.starsEarned = storage.get(this.keyName, this.defaultStars);
		return this.starsEarned[gameNumber];
	},

	/**
	 * Setter for stars
	 * @param {integer} gameNumber the game for which the stars data will be saved to
	 * @param {integer} starsCount the number of stars to set this game to
	 */
	setStars: function(gameNumber, starsCount) {
		this.starsEarned[gameNumber] = starsCount;
		storage.set(this.keyName, this.starsEarned);
	},
	
	/**
	 * Getter for times
	 * @param gameNumber the time value to retrieve for this game
	 * @returns {integer} the time taken for the particular game
	 */
	getTime: function(gameNumber) {
		this.timesTaken = storage.get(this.keyNameForTimes, this.defaultTimes);
		return this.timesTaken[gameNumber];
	},
	
	/**
	 * Setter for times
	 * @param {integer} gameNumber the game for which the time data will be saved to
	 * @param {integer} timeForLevel the time value to set for this game
	 */
	setTime: function(gameNumber, timeForLevel) {
		this.timesTaken[gameNumber] = timeForLevel;
		storage.set(this.keyNameForTimes, this.timesTaken);
	},
	
	/**
	 * Getter for attempts
	 * @param gameNumber the attempt number to retrieve for this game
	 * @returns {integer} the attempts made for the particular game
	 */
	getAttempts: function(gameNumber) {
		this.attemptsMade = storage.get(this.keyNameForAttempts, this.defaultAttempts);
		return this.attemptsMade[gameNumber];
	},
	
	/**
	 * Setter for attempts
	 * @param {integer} gameNumber the game for which the attempt data will be saved to
	 * @param {integer} attemptsForLevel the number of attempts made for this game
	 */
	setAttempts: function(gameNumber, attemptsForLevel) {
		this.attemptsMade[gameNumber] = attemptsForLevel;
		storage.set(this.keyNameForAttempts, this.attemptsMade);
	},
	
		/**
	 * Getter for errors
	 * @param gameNumber the errors to retrieve for this game
	 * @returns {integer} the errors made for the particular game
	 */
	getErrors: function(gameNumber) {
		this.errorsMade = storage.get(this.keyNameForErrors, this.defaultErrors);
		return this.errorsMade[gameNumber];
	},
	
	/**
	 * Setter for errors
	 * @param {integer} gameNumber the game for which the error data will be saved to
	 * @param {integer} errorsForLevel the number of errors made for this game
	 */
	setErrors: function(gameNumber, errorsForLevel) {
		this.errorsMade[gameNumber] = errorsForLevel;
		storage.set(this.keyNameForErrors, this.errorsMade);
	},

});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="AdditionGameController.html">AdditionGameController</a></li><li><a href="AdditionGameHelper.html">AdditionGameHelper</a></li><li><a href="AdditionGameView.html">AdditionGameView</a></li><li><a href="App.html">App</a></li><li><a href="ArrayUtil.html">ArrayUtil</a></li><li><a href="BrowserMusic.html">BrowserMusic</a></li><li><a href="DimensionUtil.html">DimensionUtil</a></li><li><a href="Env.html">Env</a></li><li><a href="GroupingGame2Controller.html">GroupingGame2Controller</a></li><li><a href="GroupingGame3Controller.html">GroupingGame3Controller</a></li><li><a href="GroupingGameController.html">GroupingGameController</a></li><li><a href="GroupingGameView.html">GroupingGameView</a></li><li><a href="HomeController.html">HomeController</a></li><li><a href="HomeView.html">HomeView</a></li><li><a href="KeyboardTextsGenerator.html">KeyboardTextsGenerator</a></li><li><a href="LoaderUtil.html">LoaderUtil</a></li><li><a href="MathUtil.html">MathUtil</a></li><li><a href="MenuController.html">MenuController</a></li><li><a href="MenuUnitController.html">MenuUnitController</a></li><li><a href="MenuUnitView.html">MenuUnitView</a></li><li><a href="MenuView.html">MenuView</a></li><li><a href="Music.html">Music</a></li><li><a href="OptionsController.html">OptionsController</a></li><li><a href="OptionsView.html">OptionsView</a></li><li><a href="PhonegapMusic.html">PhonegapMusic</a></li><li><a href="Practice1Controller.html">Practice1Controller</a></li><li><a href="Practice2Controller.html">Practice2Controller</a></li><li><a href="Practice3Controller.html">Practice3Controller</a></li><li><a href="PracticeView.html">PracticeView</a></li><li><a href="SpeechUtil.html">SpeechUtil</a></li><li><a href="StatisticsController.html">StatisticsController</a></li><li><a href="StatisticsView.html">StatisticsView</a></li><li><a href="Storage.html">Storage</a></li><li><a href="TemplateController.html">TemplateController</a></li><li><a href="TemplateModel.html">TemplateModel</a></li><li><a href="TemplateView.html">TemplateView</a></li><li><a href="Unit1StatisticsController.html">Unit1StatisticsController</a></li><li><a href="Unit2StatisticsController.html">Unit2StatisticsController</a></li><li><a href="Unit3StatisticsController.html">Unit3StatisticsController</a></li><li><a href="UnitRecordsModel.html">UnitRecordsModel</a></li><li><a href="UnitStatisticsView.html">UnitStatisticsView</a></li><li><a href="View.html">View</a></li><li><a href="WidgetUtil.html">WidgetUtil</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Wed Feb 05 2014 16:27:14 GMT+1300 (NZDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
